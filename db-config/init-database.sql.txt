CREATE USER $DB_USER WITH LOGIN PASSWORD '$DB_PASSWORD' CREATEDB;
CREATE DATABASE $DB_NAME;
GRANT ALL PRIVILEGES ON DATABASE $DB_NAME TO $DB_USER;
\c $DB_NAME;
CREATE SCHEMA IF NOT EXISTS $DB_SCHEMA AUTHORIZATION $DB_USER;
GRANT ALL ON SCHEMA $DB_SCHEMA TO $DB_USER;

CREATE USER $KEYCLOAK_DATABASE_USER WITH LOGIN PASSWORD '$KEYCLOAK_DATABASE_PASSWORD';
CREATE DATABASE $KEYCLOAK_DATABASE_NAME;
GRANT ALL PRIVILEGES ON DATABASE $KEYCLOAK_DATABASE_NAME TO $KEYCLOAK_DATABASE_USER;
\c $KEYCLOAK_DATABASE_NAME;
CREATE SCHEMA IF NOT EXISTS $KEYCLOAK_DATABASE_SCHEMA AUTHORIZATION $KEYCLOAK_DATABASE_USER;
GRANT ALL ON SCHEMA $KEYCLOAK_DATABASE_SCHEMA TO $KEYCLOAK_DATABASE_USER;